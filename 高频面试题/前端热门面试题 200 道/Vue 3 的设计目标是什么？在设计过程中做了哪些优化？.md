## Vue 3 的设计目标是什么？在设计过程中做了哪些优化？
> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)

## 回答重点
Vue 3 的设计目标主要可以归纳为几个方面：性能优化、可维护性、增强 TypeScript 支持、增强兼容性和功能扩展性。

在设计过程中，Vue 3 做了以下优化：
1）**性能优化**：Vue 3 使用了更高效的虚拟 DOM diff 算法，并且通过编译器优化让静态内容提升为编译时确定的内容，从而减少运行时开销。
2）**组合式 API**：引入 Composition API 以解决 Options API 在大型项目中的局限性，尤其对于逻辑复用和代码组织有显著提升。
3）**更优秀的 TypeScript 支持**：Vue 3 的源码采用 TypeScript 进行重写，不仅增强了库内部的类型安全性，也让用户受益于更强大的类型提示和补全功能。
4）**Tree Shaking**：Vue 3 模块化代码结构更加清晰，支持更好的 Tree Shaking，可以让打包体积更小。
5）**兼容传统功能**：保持对 Vue 2.x 现有功能的兼容性和渐进式迁移策略，使迁移过程更加平滑。
6）**改进的响应式系统**：Vue 3 通过 Proxy 实现了新的响应式系统，解决 Vue 2.x 响应式系统中的一些局限和问题。同时，通过组合式 API 可以更灵活地管理状态。

## 扩展知识
接下来，我们深入一下 Vue 3 的几个关键设计优化：

1）**性能优化**：Vue 3 的核心性能优化来自于其全新的虚拟 DOM 算法。相比于 Vue 2，Vue 3 在 diff 算法上采用了静态标记（Static Tree Hoisting）的思路，即在编译阶段对静态节点进行标记，减少 runtime 的对比计算。它还通过优化 v-on、v-bind 这些指令，提高实际渲染速度。

2）**组合式 API（Composition API）**：在 Vue 2 中，我们通过 Options API 来组织代码，这种方法在处理简单组件时显得非常直观，但在复杂组件或需要逻辑复用时会显得力不从心。而 Composition API 提供了一种函数式的方式组织逻辑，将一类相关的逻辑凝聚在一起，从而使得代码更加可读和可维护。

3）**全面的 TypeScript 支持**：Vue 3 被 TypeScript 全面重写，这不仅让框架本身的逻辑更健壮，还让开发者获得了更好的开发体验，无论是类型检查还是 IDE 的支持，都有了显著的提升。

4）**Tree Shaking**：Tree Shaking 是一种通过静态分析，去掉未使用代码的技术。Vue 3 的模块化结构确保了未使用的代码不会被引入到最终的构建产物中，从而大大地减小了包的体积。

5）**兼容性和渐进式迁移**：Vue 3 考虑到了现有的大量 Vue 2 应用，在设计时尽可能保持了对 Vue 2.x API 的兼容性，并提供了一些工具和文档，帮助开发者在不破坏现有代码基础上逐步迁移到 Vue 3。

6）**响应式系统**：Vue 3 采用了 Proxy 作为响应式系统的基础，通过 Proxy 对对象的访问进行代理，从而替代 Vue 2 中的 `Object.defineProperty`。这种方式有几个好处：一是能够监听数组和对象属性的动态增加或删除，二是性能上有更好的表现。这也使得我们在使用响应式系统时不需要再关注 Vue 2 中的一些限制和坑。

> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)