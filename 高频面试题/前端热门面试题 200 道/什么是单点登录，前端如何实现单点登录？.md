## 什么是单点登录，前端如何实现单点登录？
> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)

## 回答重点
单点登录（Single Sign-On, SSO）是一种认证机制，允许用户在多个独立的系统或应用之间，只需一次登录就能访问所有的系统或应用，而不需要在每次访问时都重新登录。

前端实现单点登录通常依赖于后端的支持和浏览器的Cookie机制，以下是一个常见的实现方式：

1）用户访问A系统，在请求被路由到需要认证的页面时，会被重定向到SSO服务器的登录页面。
2）用户在SSO服务器上进行登录，登录成功后，SSO服务器会生成一个加密票据（Token），同时将Token返回给A系统或通过浏览器的重定向自动带回。
3）A系统接收到Token，通过调用SSO服务器的接口进行Token验证，验证成功后，给用户创建会话，同时将一部分信息存储在浏览器的Cookie中。
4）用户访问B系统时，B系统会检测到用户没有登录，此时会重定向到SSO服务器检查用户的Token，如果已经存在有效的Token，会直接返回给B系统。
5）B系统收到Token后，进行验证，验证通过后创建会话，同样存储一部分信息在浏览器的Cookie中。
6）接下来用户在各个系统之间进行跳转时，只要带上有效的Token，就不需要再次登录。

## 扩展知识
我觉得可以再谈些更深入的知识，帮助你更全面地理解这个话题。

**1）常见的SSO协议**
很多实现SSO的系统会使用标准化的协议，比如：
- OAuth 2.0：主要用来授权用户的数据访问。
- OpenID Connect：基于OAuth 2.0，用于用户身份的验证。
- SAML（Security Assertion Markup Language）：用于交换认证和授权数据。

**2）安全考虑**
在实现SSO时，安全性必须放在首位。这里有几个需要特别注意的地方：
- Token的传输要采用HTTPS加密，防止中间人攻击。
- Token的生命周期要适当设置，防止Token泄露后的长期滥用。
- Token的签名和加密防止篡改和伪造。

**3）前后端分离架构中的SSO**
在现代的前后端分离架构中，前端往往会以SPA（Single Page Application）的形式出现。这种情况下，通过后端返回的Token通常会存储在浏览器的LocalStorage或SessionStorage中，并在每次请求时通过HTTP头部携带到后端进行验证。

当然要避免将敏感数据直接存储在LocalStorage中，因为它不受跨站脚本（XSS）攻击的防护，可以利用HttpOnly和Secure标记的Cookie来存储Token，这会更为安全。

**4）无缝体验**
为了提供更好的用户体验，许多SSO系统会实现自动登录和单点注销机制，确保用户在一个系统登录或注销后，其他系统能够自动同步状态。



> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)