## 为什么 React 使用虚拟 DOM 来提高性能？
> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)

## 回答重点
React使用虚拟DOM来提高性能是因为直接操作真实DOM是相对昂贵和耗时的。虚拟DOM是一种轻量级的副本，它允许React在内存中进行计算和差异检测，然后将最小的、更高效的变化应用到真正的DOM上。这样可以减少不必要的真实DOM更新，提高应用的整体性能。

## 扩展知识
我们从下面几个角度进一步探讨虚拟DOM的优势以及它在React中的具体应用：

1）**真实DOM的性能瓶颈**：
   - 浏览器的真实DOM操作（如添加、删除、修改节点）是动画流畅度的天敌。每次操作都要引起浏览器的重排和重绘，这是非常耗时的过程。
   - 当频繁进行这些操作时，会严重影响网页的性能和用户体验。

2）**虚拟DOM的基本概念**：
   - 虚拟DOM（Virtual DOM，简称VDOM）是对真实DOM的一种抽象，一般表现为一个轻量级的JavaScript对象，包含元素的属性、事件以及子节点等信息。
   - 有点类似于真实DOM的影子，能在内存中快速生成和更新。

3）**虚拟DOM的工作方式**：
   - 在React应用中，当状态改变时，React会首先在内存中的虚拟DOM树计算出新的虚拟DOM。
   - 然后React会对新旧虚拟DOM进行对比，找出有改动的部分，这个过程叫做“diffing”。
   - 最后，React会将差异部分高效地更新到真实DOM，尽量减少对真实DOM的操作，提升性能。

4）**优势**：
   - **性能提升**： 减少直接操作真实DOM的次数，降低性能开销。
   - **跨平台支持**： 虚拟DOM的抽象性使得React不仅可以在浏览器中使用，还能够扩展到移动端（比如React Native），甚至是虚拟现实环境中。
   - **简化开发逻辑**： 将开发者从手动管理DOM中解放出来，专注于状态和UI的设置和更新。

5）**快速例子**：
   - 假设我们在React组件中更新一个列表项。如果直接操作真实DOM，对列表中的每个项都进行操作需要高昂的计算成本。
   - 使用虚拟DOM，React会生成新的虚拟DOM树，检查所有项发现只有一个需要更新，然后只更新这个项而不影响其他部分。



> 八股文一网打尽，更多面试题请看[程序员面试刷题神器 - 面试鸭](https://www.mianshiya.com/)